var player,$player,volume=55,is_playing=!1;function stopAllPlayers(){player.pause(),player.src="",is_playing=!1,$(".btn-audio").removeClass("playing").find("i").removeClass("zmdi-stop").addClass("zmdi-play"),$("#radio-player-controls").removeClass("jp-state-playing")}function setVolume(e){volume=e;var l=Math.round(100*volume);$(".jp-volume-bar-value").css("width",l+"%"),player.volume=Math.pow(volume,3),store.enabled&&store.set("player_volume",100*volume)}function playAudio(e){player.src=e,player.play()}function handlePlayClick(e){btn=$('.btn-audio[data-url="'+e+'"]'),btn.hasClass("playing")?stopAllPlayers():(is_playing&&stopAllPlayers(),playAudio(e),btn.addClass("playing").find("i").removeClass("zmdi-play").addClass("zmdi-stop"))}$(function(){store.enabled&&void 0!==store.get("player_volume")&&(volume=store.get("player_volume",volume)),$(".btn-audio").on("click",function(e){return e.preventDefault(),handlePlayClick($(this).data("url")),!1}),player=document.createElement("audio"),$player=$(player),setVolume(volume/100),$player.on("play",function(e){is_playing=!0,$(".jp-unmute").hide(),$("#radio-player-controls,#radio-embedded-controls").addClass("jp-state-playing");var l=Math.round(100*$player.volume);$(".jp-volume-bar-value").css("width",l+"%")}),$player.on("ended",function(e){$("#radio-player-controls,#radio-embedded-controls").removeClass("jp-state-playing")}),"mediaSession"in navigator&&navigator.mediaSession.setActionHandler("pause",function(){stopAllPlayers()}),$(".jp-pause").on("click",function(e){stopAllPlayers()}),$(".jp-mute").on("click",function(e){player.volume=0,$(".jp-unmute").show(),$(".jp-mute").hide()}),$(".jp-unmute").on("click",function(e){setVolume(volume),$(".jp-unmute").hide(),$(".jp-mute").show()}),$(".jp-volume-bar").on("click",function(e){var l=$(e.currentTarget),a=l.offset(),o=e.pageX-a.left,t=l.width();l.height(),e.pageY,a.top,l.height();setVolume(o/t)}),$('.btn-audio[data-autoplay="true"]:first').click()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhZGlvLmpzIl0sIm5hbWVzIjpbInBsYXllciIsIiRwbGF5ZXIiLCJ2b2x1bWUiLCJpc19wbGF5aW5nIiwic3RvcEFsbFBsYXllcnMiLCJwYXVzZSIsInNyYyIsIiQiLCJyZW1vdmVDbGFzcyIsImZpbmQiLCJhZGRDbGFzcyIsInNldFZvbHVtZSIsIm5ld192b2x1bWUiLCJ2b2x1bWVfcGVyY2VudCIsIk1hdGgiLCJyb3VuZCIsImNzcyIsInBvdyIsInN0b3JlIiwiZW5hYmxlZCIsInNldCIsInBsYXlBdWRpbyIsInNvdXJjZV91cmwiLCJwbGF5IiwiaGFuZGxlUGxheUNsaWNrIiwiYXVkaW9fc291cmNlIiwiYnRuIiwiaGFzQ2xhc3MiLCJ1bmRlZmluZWQiLCJnZXQiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJkYXRhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaGlkZSIsIm5hdmlnYXRvciIsIm1lZGlhU2Vzc2lvbiIsInNldEFjdGlvbkhhbmRsZXIiLCJzaG93IiwiJGJhciIsImN1cnJlbnRUYXJnZXQiLCJvZmZzZXQiLCJ4IiwicGFnZVgiLCJsZWZ0IiwidyIsIndpZHRoIiwiaGVpZ2h0IiwicGFnZVkiLCJ0b3AiLCJjbGljayJdLCJtYXBwaW5ncyI6IkFBSUEsSUFFSUEsT0FDQUMsUUFIQUMsT0FBUyxHQUNUQyxZQUFhLEVBSWpCLFNBQVNDLGlCQUVMSixPQUFPSyxRQUNQTCxPQUFPTSxJQUFNLEdBRWJILFlBQWEsRUFDYkksRUFBRSxjQUFjQyxZQUFZLFdBQVdDLEtBQUssS0FBS0QsWUFBWSxhQUFhRSxTQUFTLGFBRW5GSCxFQUFFLDBCQUEwQkMsWUFBWSxvQkFHNUMsU0FBU0csVUFBVUMsR0FFZlYsT0FBU1UsRUFFVCxJQUFJQyxFQUFpQkMsS0FBS0MsTUFBZSxJQUFUYixRQUNoQ0ssRUFBRSx3QkFBd0JTLElBQUksUUFBU0gsRUFBZSxLQUV0RGIsT0FBT0UsT0FBU1ksS0FBS0csSUFBSWYsT0FBTyxHQUU1QmdCLE1BQU1DLFNBQ05ELE1BQU1FLElBQUksZ0JBQXdCLElBQVBsQixRQUduQyxTQUFTbUIsVUFBVUMsR0FFZnRCLE9BQU9NLElBQU1nQixFQUNidEIsT0FBT3VCLE9BR1gsU0FBU0MsZ0JBQWdCQyxHQUVyQkMsSUFBTW5CLEVBQUUsd0JBQXdCa0IsRUFBYSxNQUV6Q0MsSUFBSUMsU0FBUyxXQUNidkIsa0JBRUlELFlBQ0FDLGlCQUVKaUIsVUFBVUksR0FFVkMsSUFBSWhCLFNBQVMsV0FBV0QsS0FBSyxLQUFLRCxZQUFZLGFBQWFFLFNBQVMsY0FJNUVILEVBQUUsV0FHTVcsTUFBTUMsY0FBMENTLElBQS9CVixNQUFNVyxJQUFJLG1CQUMzQjNCLE9BQVNnQixNQUFNVyxJQUFJLGdCQUFpQjNCLFNBRXhDSyxFQUFFLGNBQWN1QixHQUFHLFFBQVMsU0FBU0MsR0FHakMsT0FGQUEsRUFBRUMsaUJBQ0ZSLGdCQUFnQmpCLEVBQUUwQixNQUFNQyxLQUFLLFNBQ3RCLElBSVhsQyxPQUFTbUMsU0FBU0MsY0FBYyxTQUNoQ25DLFFBQVVNLEVBQUVQLFFBRVpXLFVBQVVULE9BQU8sS0FHakJELFFBQVE2QixHQUFHLE9BQVEsU0FBU0MsR0FDeEI1QixZQUFhLEVBRWJJLEVBQUUsY0FBYzhCLE9BQ2hCOUIsRUFBRSxtREFBbURHLFNBQVMsb0JBRTlELElBQUlHLEVBQWlCQyxLQUFLQyxNQUF1QixJQUFqQmQsUUFBUUMsUUFDeENLLEVBQUUsd0JBQXdCUyxJQUFJLFFBQVNILEVBQWUsT0FHMURaLFFBQVE2QixHQUFHLFFBQVMsU0FBU0MsR0FDekJ4QixFQUFFLG1EQUFtREMsWUFBWSxzQkFHakUsaUJBQWtCOEIsV0FDbEJBLFVBQVVDLGFBQWFDLGlCQUFpQixRQUFTLFdBQzdDcEMsbUJBS1JHLEVBQUUsYUFBYXVCLEdBQUcsUUFBUyxTQUFTQyxHQUNoQzNCLG1CQUdKRyxFQUFFLFlBQVl1QixHQUFHLFFBQVMsU0FBU0MsR0FDL0IvQixPQUFPRSxPQUFTLEVBQ2hCSyxFQUFFLGNBQWNrQyxPQUNoQmxDLEVBQUUsWUFBWThCLFNBR2xCOUIsRUFBRSxjQUFjdUIsR0FBRyxRQUFTLFNBQVNDLEdBQ2pDcEIsVUFBVVQsUUFDVkssRUFBRSxjQUFjOEIsT0FDaEI5QixFQUFFLFlBQVlrQyxTQUdsQmxDLEVBQUUsa0JBQWtCdUIsR0FBRyxRQUFTLFNBQVNDLEdBQ3JDLElBQUlXLEVBQU9uQyxFQUFFd0IsRUFBRVksZUFDWEMsRUFBU0YsRUFBS0UsU0FDZEMsRUFBSWQsRUFBRWUsTUFBUUYsRUFBT0csS0FDckJDLEVBQUlOLEVBQUtPLFFBQ0xQLEVBQUtRLFNBQVduQixFQUFFb0IsTUFBUVAsRUFBT1EsSUFDakNWLEVBQUtRLFNBRWJ2QyxVQUFVa0MsRUFBRUcsS0FJaEJ6QyxFQUFFLDBDQUEwQzhDIiwiZmlsZSI6InJhZGlvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFJhZGlvIFBsYXllciBTY3JpcHRcclxuICovXHJcblxyXG52YXIgdm9sdW1lID0gNTUsXHJcbiAgICBpc19wbGF5aW5nID0gZmFsc2UsXHJcbiAgICBwbGF5ZXIsXHJcbiAgICAkcGxheWVyO1xyXG5cclxuZnVuY3Rpb24gc3RvcEFsbFBsYXllcnMoKVxyXG57XHJcbiAgICBwbGF5ZXIucGF1c2UoKTtcclxuICAgIHBsYXllci5zcmMgPSAnJztcclxuXHJcbiAgICBpc19wbGF5aW5nID0gZmFsc2U7XHJcbiAgICAkKCcuYnRuLWF1ZGlvJykucmVtb3ZlQ2xhc3MoJ3BsYXlpbmcnKS5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ3ptZGktc3RvcCcpLmFkZENsYXNzKCd6bWRpLXBsYXknKTtcclxuXHJcbiAgICAkKCcjcmFkaW8tcGxheWVyLWNvbnRyb2xzJykucmVtb3ZlQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0Vm9sdW1lKG5ld192b2x1bWUpXHJcbntcclxuICAgIHZvbHVtZSA9IG5ld192b2x1bWU7XHJcblxyXG4gICAgdmFyIHZvbHVtZV9wZXJjZW50ID0gTWF0aC5yb3VuZCh2b2x1bWUgKiAxMDApO1xyXG4gICAgJCgnLmpwLXZvbHVtZS1iYXItdmFsdWUnKS5jc3MoJ3dpZHRoJywgdm9sdW1lX3BlcmNlbnQrJyUnKTtcclxuXHJcbiAgICBwbGF5ZXIudm9sdW1lID0gTWF0aC5wb3codm9sdW1lLDMpO1xyXG5cclxuICAgIGlmIChzdG9yZS5lbmFibGVkKVxyXG4gICAgICAgIHN0b3JlLnNldCgncGxheWVyX3ZvbHVtZScsIHZvbHVtZSoxMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwbGF5QXVkaW8oc291cmNlX3VybClcclxue1xyXG4gICAgcGxheWVyLnNyYyA9IHNvdXJjZV91cmw7XHJcbiAgICBwbGF5ZXIucGxheSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQbGF5Q2xpY2soYXVkaW9fc291cmNlKVxyXG57XHJcbiAgICBidG4gPSAkKCcuYnRuLWF1ZGlvW2RhdGEtdXJsPVwiJythdWRpb19zb3VyY2UrJ1wiXScpO1xyXG5cclxuICAgIGlmIChidG4uaGFzQ2xhc3MoJ3BsYXlpbmcnKSkge1xyXG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpc19wbGF5aW5nKVxyXG4gICAgICAgICAgICBzdG9wQWxsUGxheWVycygpO1xyXG5cclxuICAgICAgICBwbGF5QXVkaW8oYXVkaW9fc291cmNlKTtcclxuXHJcbiAgICAgICAgYnRuLmFkZENsYXNzKCdwbGF5aW5nJykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCd6bWRpLXBsYXknKS5hZGRDbGFzcygnem1kaS1zdG9wJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgLy8gQ2hlY2sgd2Vic3RvcmFnZSBmb3IgZXhpc3Rpbmcgdm9sdW1lIHByZWZlcmVuY2UuXHJcbiAgICBpZiAoc3RvcmUuZW5hYmxlZCAmJiBzdG9yZS5nZXQoJ3BsYXllcl92b2x1bWUnKSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHZvbHVtZSA9IHN0b3JlLmdldCgncGxheWVyX3ZvbHVtZScsIHZvbHVtZSk7XHJcblxyXG4gICAgJCgnLmJ0bi1hdWRpbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaGFuZGxlUGxheUNsaWNrKCQodGhpcykuZGF0YSgndXJsJykpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhdWRpbyBlbGVtZW50LlxyXG4gICAgcGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICRwbGF5ZXIgPSAkKHBsYXllcik7XHJcblxyXG4gICAgc2V0Vm9sdW1lKHZvbHVtZS8xMDApO1xyXG5cclxuICAgIC8vIEhhbmRsZSBldmVudHMuXHJcbiAgICAkcGxheWVyLm9uKCdwbGF5JywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlzX3BsYXlpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAkKCcuanAtdW5tdXRlJykuaGlkZSgpO1xyXG4gICAgICAgICQoJyNyYWRpby1wbGF5ZXItY29udHJvbHMsI3JhZGlvLWVtYmVkZGVkLWNvbnRyb2xzJykuYWRkQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcclxuXHJcbiAgICAgICAgdmFyIHZvbHVtZV9wZXJjZW50ID0gTWF0aC5yb3VuZCgkcGxheWVyLnZvbHVtZSAqIDEwMCk7XHJcbiAgICAgICAgJCgnLmpwLXZvbHVtZS1iYXItdmFsdWUnKS5jc3MoJ3dpZHRoJywgdm9sdW1lX3BlcmNlbnQrJyUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRwbGF5ZXIub24oJ2VuZGVkJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICQoJyNyYWRpby1wbGF5ZXItY29udHJvbHMsI3JhZGlvLWVtYmVkZGVkLWNvbnRyb2xzJykucmVtb3ZlQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICgnbWVkaWFTZXNzaW9uJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ3BhdXNlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIGJ1dHRvbiBjbGlja3MuXHJcbiAgICAkKCcuanAtcGF1c2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgc3RvcEFsbFBsYXllcnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcC1tdXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHBsYXllci52b2x1bWUgPSAwO1xyXG4gICAgICAgICQoJy5qcC11bm11dGUnKS5zaG93KCk7XHJcbiAgICAgICAgJCgnLmpwLW11dGUnKS5oaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanAtdW5tdXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICAgICQoJy5qcC11bm11dGUnKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLmpwLW11dGUnKS5zaG93KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanAtdm9sdW1lLWJhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgJGJhciA9ICQoZS5jdXJyZW50VGFyZ2V0KSxcclxuICAgICAgICAgICAgb2Zmc2V0ID0gJGJhci5vZmZzZXQoKSxcclxuICAgICAgICAgICAgeCA9IGUucGFnZVggLSBvZmZzZXQubGVmdCxcclxuICAgICAgICAgICAgdyA9ICRiYXIud2lkdGgoKSxcclxuICAgICAgICAgICAgeSA9ICRiYXIuaGVpZ2h0KCkgLSBlLnBhZ2VZICsgb2Zmc2V0LnRvcCxcclxuICAgICAgICAgICAgaCA9ICRiYXIuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIHNldFZvbHVtZSh4L3cpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSGFuZGxlIGF1dG9wbGF5LlxyXG4gICAgJCgnLmJ0bi1hdWRpb1tkYXRhLWF1dG9wbGF5PVwidHJ1ZVwiXTpmaXJzdCcpLmNsaWNrKCk7XHJcblxyXG59KTtcclxuIl19
